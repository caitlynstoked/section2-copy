<!DOCTYPE html>
<html lang="en">

<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Notusingthis.com</title>
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Lato:100,100i,300,300i,400,400i,700,700i,900,900i" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />

    <style>
        body {
        font-family: Arial, sans-serif;
        background-color: #f4f4f4;
        margin: 0;
        padding: 0;
        background-image: url('assets/img/5.jpg');
        background-size: cover;
        background-attachment: fixed;
        }

        h1 {
        text-align: center;
        color: #333;
        }

        .ACC {
        display: flex;
        justify-content: center;
        align-items: flex-start;
        margin-top: 20px;
        }

        fieldset {
        border: 2px solid #ccc;
        border-radius: 8px;
        margin: 10px;
        padding: 10px;
        background-color: #fff;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        width: 260px; /* Slightly reduced width */
        max-width: calc(100% - 20px); /* Adjusted maximum width */
        overflow: hidden; /* Hides any content that overflows */
        }

        fieldset img {
        opacity: 0.5; /* You can adjust the opacity value (0 being fully transparent, 1 being fully visible) */
        }

        legend {
        font-weight: bold;
        font-size: 1.2em;
        color: #333;
        }

        label {
        display: block;
        margin-bottom: 8px;
        color: #555;
        }


        input {
        width: calc(100% - 16px); 
        padding: 5px;
        margin-bottom: 10px;
        box-sizing: border-box;
        font-size: 14px;
        border-radius:10px;
        background-color: #fafafa;
        border:0;
        box-shadow:0 0 4px rgba(0,0,0,0.3);
        transition: .3s box-shadow;
        }

        .input:hover {
        box-shadow:0 0 4px rgba(57, 56, 56, 0.5);
        }
        
        /*
        button {
        padding: 4px;
        font-size: 14px;
        background-color: #007bff;
        color: #fff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease;
        }

        button:hover {
        background-color: #0056b3;
        }

        */

        #outputMessage {
        text-align: center;
        margin-top: 20px;
        color: orange;
        font-size: 18px; 
        }

        .form-container {
            margin-top: 100px; /* Adjust this value to leave space for the navbar */
            display: flex;
            justify-content: center;
            align-items: flex-start;
            flex-wrap: wrap;
        }

        /* Adjust the width and margin as needed for the fieldsets */
        .form-container fieldset {
            /* ... Your existing fieldset styles ... */
            width: 300px;
            margin: 10px;
        }

        .password-container {
    position: relative;
    width: 80%;
    margin-bottom: 10px; 
    }

    .password-container input[type="password"] {
    width: 100%;
    padding-right: 30px;
    font-size: 14px;
    }

    .password-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: 5px;
    cursor: pointer;
    width: 20px; /* Adjust this as per the image size */
        }   



/* CSS */
.form-container fieldset form button {
  display: inline-block;
  margin: 0 5px; /* Adjust the margin for desired spacing */
}

.button-75 {
  align-items: center;
  background-image: linear-gradient(135deg, #817579 40%, #c4bdb9);
  border: 0;
  border-radius: 8px;
  box-sizing: border-box;
  color: #fff;
  cursor: pointer;
  display: flex;
  justify-content: center;
  font-family: "Codec cold",sans-serif;
  font-size: 12px;
  font-weight: 700;
  height: 54px;
  max-width: 100%;
  text-decoration: none;
  text-transform: uppercase;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  padding: 18px;
}

.button-75:active {
  outline: 0;
}

.button-75:hover {
  outline: 0;
  background-image: linear-gradient(135deg, #b85979 40%, #c4bdb9);
}

.button-75 span {
  transition: all 200ms;
}

.button-75:hover span {
  transform: scale(.9);
  opacity: .75;
}

@media screen and (max-width: 991px) {
  .button-75 {
    font-size: 15px;
    height: 50px;
  }

  .button-75 span {
    line-height: 50px;
  }
}
    </style>

</head>

<body id="page-top">
    <nav class="navbar navbar-expand-lg navbar-dark navbar-custom fixed-top">
        <div class="container px-5">
            <a class="navbar-brand" href="/">
                <img class="navbar-brand-img" src="/Untitled design.png" alt="Logo">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/login">Log In/Sign Up</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <br><br><br><br><br>
    <fieldset style="width: 300px;">
        <form id="signupForm" method="post" action="/signup" onsubmit="return validateAndCreateAccount();">
            <!-- Input field for username -->
            <label for="txtNewUserName">Username:</label>
            <input type="text" id="txtNewUserName" name="username" required><br>
    
            <!-- Input field for password -->
            <label for="txtNewPassword">Password:</label>
            <input type="password" id="txtNewPassword" name="password" required><br>
    
            <!-- Input field for email -->
            <label for="txtEmail">Email:</label>
            <input type="email" id="txtEmail" name="email" required><br>
    
            <!-- Input field for phone -->
            <label for="txtPhone">Phone:</label>
            <input type="text" id="txtPhone" name="phone" required><br>
    
            <!-- Input field for Access key -->
            <label for="txtAccessKey">Access Key:</label>
            <input type="password" id="txtAccessKey" name="Access_key" required><br>
    
            <!-- Submit button -->
            <button type="submit">Sign Up</button>
        </form>
    </fieldset>
    

    <br><br>

    <!-- Login Section -->
    <fieldset style="width: 300px;">
        <legend>Login</legend>
        <form id="loginForm" action="/login" method="post">
            <input type="text" placeholder="Username" name="username" style="width: 80%;" required>
            <br>
            <div class="password-container">
                <input type="password" placeholder="Password" name="password" class="password-input" style="width: 100%; padding-right: 30px;" required>
                <img src="assets/img/eye-close.png" class="password-icon" id="btnShowLogin" onclick="toggleLoginPassword();">
            </div>
            
            <button class="button-75" role="button" type="submit"><span class="text">Login</span></button>
            <button class="button-75" role="button" onclick="resetLoginForm();"><span class="text">Reset</span></button>
        </form>
    </fieldset>
    
    <script>
        // Add the toggleLoginPassword function if not already defined
        function toggleLoginPassword() {
            let loginPasswordInput = document.getElementById("txtLoginPassword");
            let eyeIcon = document.getElementById("btnShowLogin");
    
            if (loginPasswordInput.type === "password") {
                loginPasswordInput.type = "text";
                eyeIcon.src = "assets/img/eye-open.png";
            } else {
                loginPasswordInput.type = "password";
                eyeIcon.src = "assets/img/eye-close.png";
            }
        }
    
        function resetLoginForm() {
            document.getElementById("loginForm").reset();
            // Reset any additional elements or messages if needed
        }
    
        let bShowNew = false;
        let bShowLogin = false;
    
        // Array to store user data
        var userData = [];
    
        function toggleNewPassword() {
            let newPasswordInput = document.getElementById("txtNewPassword");
            let eyeIcon = document.getElementById("btnShowNew");
    
            if (bShowNew) {
                newPasswordInput.type = "password";
                eyeIcon.src = "assets/img/eye-close.png";
            } else {
                newPasswordInput.type = "text";
                eyeIcon.src = "assets/img/eye-open.png";
            }
    
            bShowNew = !bShowNew;
        }
    
        function toggleLoginPassword() {
            let loginPasswordInput = document.getElementById("txtLoginPassword");
            let eyeIcon = document.getElementById("btnShowLogin");
    
            if (bShowLogin) {
                loginPasswordInput.type = "password";
                eyeIcon.src = "assets/img/eye-close.png";
            } else {
                loginPasswordInput.type = "text";
                eyeIcon.src = "assets/img/eye-open.png";
            }
    
            bShowLogin = !bShowLogin;
        }
    
        function validateAndCreateAccount() {
            let firstName = document.getElementById("txtFirstName").value;
            let lastName = document.getElementById("txtLastName").value;
            let newUserName = document.getElementById("txtNewUserName").value;
            let email = document.getElementById("txtEmail").value;
            let newPassword = document.getElementById("txtNewPassword").value;
            let newAccessKey = document.getElementById("txtAccessKey").value;
    
            // Validate email format
            if (!email.includes('@') || !email.includes('.')) {
                showAlert("Invalid email format");
                return;
            }
    
            // Validate Access Key
            if (newAccessKey !== 'ProvoAccessKey') {
                showAlert("Invalid Access Key. Access Keys are provided to city and county employees of Provo.");
                return;
            }
    
            // Validate password
            if (newPassword.length < 8 || !(/[a-zA-Z].*[a-zA-Z]/.test(newPassword) && /\d.*\d/.test(newPassword))) {
                showAlert("Invalid password. Password must be at least 8 characters long and contain at least 2 letters and 2 numbers.");
                return;
            }
    
            // Check for duplicate username
            if (isDuplicateUsername(newUserName)) {
                showAlert("Invalid username. Username already exists.");
                return;
            }
    
            // Reset the sign-up form
            resetSignUpForm();
    
            // Hide the signup form after showing the message
            document.getElementById("signupForm").style.display = "none";
    
            // Display success message or perform other actions
            showAlert("Account created for " + newUserName + ".\nReturn to sign up");
        }
    
        // Function to display alerts on the client side
        function showAlert(message) {
            alert(message);
        }
    
        // Function to check if the email is in a valid format
        function isValidEmail(email) {
            // Use a regular expression for a basic email format check
            return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        }
    
        function returnToSignUp() {
            // Clear the success message
            showAlert("");
            // Show the sign-up form again
            document.getElementById("signupForm").style.display = "block";
            // Reset the sign-up form
            resetSignUpForm();
        }
    
        function isDuplicateUsername(username) {
            return userData.some(user => user.username === username);
        }
    
        function validateLogin() {
            let username = document.getElementById("txtUserName").value;
            let password = document.getElementById("txtLoginPassword").value;
    
            // Check if the username exists in the database
            let user = userData.find(user => user.username === username);
    
            if (!user) {
                showAlert("Invalid username.");
                return false; // Prevent form submission
            }
    
            // Check if the password is correct
            if (user.password !== password) {
                showAlert("Incorrect password.");
                return false; // Prevent form submission
            }
    
            // If both username and password are correct, allow form submission
            return true;
        }
    
        function resetSignUpForm() {
            document.getElementById("signupForm").reset();
    
            // Reset any additional elements or messages if needed
        }
    
        function resetLoginForm() {
            document.getElementById("loginForm").reset();
    
            // Reset any additional elements or messages if needed
        }
    </script>
  
    
</body>
</html>